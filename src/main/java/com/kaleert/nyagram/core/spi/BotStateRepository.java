package com.kaleert.nyagram.core.spi;

/**
 * Интерфейс репозитория для сохранения состояния бота.
 * <p>
 * В основном используется для хранения {@code offset} (смещения) при работе в режиме Long Polling.
 * Это гарантирует, что при перезапуске бота он не будет обрабатывать старые сообщения заново,
 * или наоборот — не пропустит сообщения, пришедшие во время простоя.
 * </p>
 *
 * @since 1.0.0
 */
public interface BotStateRepository {
    
    /**
     * Возвращает идентификатор последнего успешно обработанного обновления (update_id).
     *
     * @return update_id или 0, если состояние отсутствует.
     */
    long getLastUpdateId();
    
    /**
     * Сохраняет идентификатор последнего обработанного обновления.
     *
     * @param updateId идентификатор обновления (update_id).
     */
    void saveLastUpdateId(long updateId);
}